<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

	<t t-name="OrderChangeReceipt" t-inherit="pos_restaurant.OrderChangeReceipt" t-inherit-mode="extension" owl="1">

		<xpath expr="//div[hasclass('pos-receipt-order-data')]" position="after">
			<div>
				Date : 
				<span t-esc="changes.date" />
			</div>
			<div>
				Customer : 
				<span t-esc="changes.client" />
			</div>
		</xpath>

		<xpath expr="//t[@t-if='changes.floor || changes.table']" position="after">
			<div>
				Served By : 
				<span t-esc="changes.cashier" />
			</div>
		</xpath>

		<xpath expr="//t[@t-if='changes.cancelled.length > 0']" position="replace">
			<t t-if="changes.cancelled.length > 0">
                <div class="pos-order-receipt-cancel">
                    <div class="pos-receipt-title">
                        CANCELLED
                        <t t-esc='changes.time.hours'/>:<t t-esc='changes.time.minutes'/>
                    </div>
                    <br />
                    <br />
                    <t t-foreach="changes.cancelled" t-as="change">
                        <div class="multiprint-flex">
                            <span style="margin-right:10%;" t-esc="change.qty"/>
                            <div style="display:flex;">
                                <span t-esc="change.name"/>
	                            <!-- <span t-esc="change.name_wrapped[0]"/>
	                            <t t-foreach="change.name_wrapped.slice(1)" t-as="wrapped_line">
						            <span t-esc="wrapped_line"/>
						        </t> -->
						    </div>
                        </div>
                        <!-- <t t-call="NameWrapped"/> -->
                        <t t-if="change.note">
                            <div>
                                NOTE
                                <span class="pos-receipt-right-align">...</span>
                            </div>
                            <div><span class="pos-receipt-left-padding">--- <t t-esc="change.note" /></span></div>
                            <br/>
                        </t>
                    </t>
                    <br />
                    <br />
                </div>
            </t>
		</xpath>

		<xpath expr="//t[@t-if='changes.new.length > 0']" position="replace">
			<t t-if="changes.new.length > 0">
                <div class="pos-receipt-title">
                    NEW
                    <t t-esc='changes.time.hours'/>:<t t-esc='changes.time.minutes'/>
                </div>
                <br />
                <br />
                <t t-foreach="changes.new" t-as="change">
                    <div class="multiprint-flex">
                        <span style="margin-right:10%;" t-esc="change.qty"/>
                        <div style="display:flex;">
                            <span t-esc="change.name"/>
	                        <!-- <span t-esc="change.name_wrapped[0]"/>
	                        <t t-foreach="change.name_wrapped.slice(1)" t-as="wrapped_line">
					            <span t-esc="wrapped_line"/>
					        </t> -->
					    </div>
                    </div>
                    <t t-if="change.note">
                        <div>
                            NOTE
                            <span class="pos-receipt-right-align">...</span>
                        </div>
                        <div><span class="pos-receipt-left-padding">--- <t t-esc="change.note" /></span></div>
                        <br/>
                    </t>
                </t>
                <br />
                <br />
            </t>
		</xpath>
		
	</t>


</templates>
